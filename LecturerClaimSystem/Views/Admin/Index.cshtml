@model IEnumerable<LecturerClaimSystem.Models.Claim>
@{
    ViewBag.Title = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string currentFilter = (ViewBag.Filter ?? "all").ToString();
    string q = (ViewBag.Query ?? "").ToString();
}

<div class="text-center mb-4">
    <h2 class="display-6 fw-bold">Admin / HR Dashboard</h2>
    <p class="text-muted">Search, filter, review, and export claims.</p>
</div>

<form method="get" class="row g-2 mb-3">
    <div class="col-md-6">
        <input type="text" name="q" class="form-control" placeholder="Search by lecturer name or email" value="@q" />
    </div>
    <div class="col-md-6 d-flex gap-2">
        <button type="submit" class="btn btn-outline-primary">Search</button>
        <a asp-action="Index" class="btn btn-outline-secondary">Clear</a>
        <a asp-action="ExportCsv" asp-route-filter="@currentFilter" asp-route-q="@q" class="btn btn-success">Export CSV</a>
    </div>
</form>

<div class="mb-3">
    <div class="btn-group">
        <a asp-action="Index" asp-route-filter="all" class="btn btn-outline-dark @(currentFilter == "all" ? "active" : "")">All</a>
        <a asp-action="Index" asp-route-filter="pending" class="btn btn-outline-warning @(currentFilter == "pending" ? "active" : "")">Pending (@ViewBag.PendingCount)</a>
        <a asp-action="Index" asp-route-filter="verified" class="btn btn-outline-info @(currentFilter == "verified" ? "active" : "")">Verified (@ViewBag.VerifiedCount)</a>
        <a asp-action="Index" asp-route-filter="approved" class="btn btn-outline-success @(currentFilter == "approved" ? "active" : "")">Approved (@ViewBag.ApprovedCount)</a>
        <a asp-action="Index" asp-route-filter="declined" class="btn btn-outline-danger @(currentFilter == "declined" ? "active" : "")">Declined (@ViewBag.DeclinedCount)</a>
    </div>
</div>
